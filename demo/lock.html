<!DOCTYPE html>
<html lang="en">
<head>
	
	<title>Viewporter enabled</title>
	
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
	
	<link rel="stylesheet" href="style.css" type="text/css" media="screen">
	
	<script src="../src/viewporter.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"></script>
	
	<script type="text/javascript">

		z.viewporter.settings.maxDensity = false;

		var log = function() {
			$("body").append("<p>"+Array.prototype.slice.call(arguments).join(' ')+"</p>");
		};
		
		var debug = function() {
			
			log('landscape:', z.viewporter.isLandscape(), '('+window.orientation+')');
			log('ppi:', z.viewporter.DEVICE_DENSITY);

			$('#viewporter-debug-width').text(window.innerWidth);
			$('#viewporter-debug-height').text(window.innerHeight);
			$('#viewporter-debug-useragent').text(navigator.userAgent);
			$('#viewporter-debug-metaviewport').text(z.viewporter.META_VIEWPORT_CONTENT);
			
		};
		
		$(window).bind(z.viewporter.ACTIVE ? 'viewportready viewportchange' : 'load', function() {
			debug();
		});
		
		// orientation locking
		$(window).bind('viewportready viewportchange', function() {
			$('#orientationlock').toggle(z.viewporter.isLandscape());
		});

	</script>
	
</head>
<body>
	
	<div id="orientationlock">Please rotate your device to use this demo application.</div>
	
	<div id="meter"><span>if DPI normalization is on, check if this element has the same size on every device.</span></div>
	
	<div id="checker-bl">
		<p><strong>window width:</strong> <span id="viewporter-debug-width"></span></p>
		<p><strong>window height:</strong> <span id="viewporter-debug-height"></span></p>
	</div>
	<div id="checker-tr">
		<p><strong>user agent:</strong> <span id="viewporter-debug-useragent"></span></p>
		<p><strong>meta viewport:</strong> <span id="viewporter-debug-metaviewport"></span></p>
	</div>

</body>
</html>